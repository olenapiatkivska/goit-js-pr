{"version":3,"file":"commonHelpers.js","sources":["../src/img/javascript.svg","../src/main.js"],"sourcesContent":["export default \"__VITE_ASSET__90c1298d__\"","// ЗАДАЧА 1\n// Якщо імейл і пароль користувача збігаються, зберігай дані з форми при сабміті\n// у локальне сховище і змінюй кнопку Login на Logout і роби поля введення\n// недоступними для змін.\n// При перезавантаженні сторінки, якщо користувач залогінений, ми маємо бачити Logout-кнопку\n// та недоступні для зміни поля з даними користувача.\n// Клік по кнопці Logout повертає все до початкового вигляду і видаляє дані користувача\n// З локального сховища.\n// Якщо введені дані не збігаються з потрібними даними, викликати аlert і\n// повідомляти про помилку.\n\nimport iziToast from 'izitoast';\n// Додатковий імпорт стилів\nimport 'izitoast/dist/css/iziToast.min.css';\nimport icon from './img/javascript.svg';\n\nconst USER_DATA = {\n  email: 'user@mail.com',\n  password: 'secret',\n};\n\nconst LS_KEY = 'login-data';\n\nconst loginForm = document.querySelector('.login-form');\nconst loginBtn = document.querySelector('.login-btn');\nconst emailInput = document.querySelector('[name=\"email\"]');\nconst passwordInput = document.querySelector('[name=\"password\"]');\n\nloginForm.addEventListener('submit', event => {\n  event.preventDefault();\n\n  const { email, password } = event.target.elements;\n  console.log(email);\n  const emailValue = email.value.trim();\n  const passwordlValue = password.value.trim();\n  if (loginBtn.textContent === 'Logout') {\n    localStorage.removeItem(LS_KEY);\n    loginForm.reset();\n    email.removeAttribute('readonly');\n    password.removeAttribute('readonly');\n    loginBtn.textContent = 'Login';\n    return;\n  }\n  if (emailValue === '' || passwordlValue === '') {\n    iziToast.warning({\n      title: 'Caution',\n      message: 'You forgot important data',\n      iconUrl: icon,\n    });\n    return;\n  }\n  if (emailValue !== USER_DATA.email || passwordlValue !== USER_DATA.password) {\n    iziToast.error({\n      title: 'Error',\n      message: 'Uncorrect data',\n      iconUrl: icon,\n    });\n    return;\n  }\n  iziToast.success({\n    title: 'Success',\n    message: 'Welcome',\n    iconUrl: icon,\n  });\n  localStorage.setItem(\n    LS_KEY,\n    JSON.stringify({ email: emailValue, password: passwordlValue })\n  );\n  loginBtn.textContent = 'Logout';\n  email.setAttribute('readonly', true);\n  password.setAttribute('readonly', true);\n});\n\nconst savedData = localStorage.getItem(LS_KEY);\nif (savedData) {\n  const parsedData = JSON.parse(savedData);\n  emailInput.value = parsedData.email || '';\n  passwordInput.value = parsedData.password || '';\n  loginBtn.textContent = 'Logout';\n  emailInput.setAttribute('readonly', true);\n  passwordInput.setAttribute('readonly', true);\n}\n"],"names":["icon","USER_DATA","LS_KEY","loginForm","loginBtn","emailInput","passwordInput","event","email","password","emailValue","passwordlValue","iziToast","savedData","parsedData"],"mappings":"svBAAA,MAAeA,EAAA,6CCgBTC,EAAY,CAChB,MAAO,gBACP,SAAU,QACZ,EAEMC,EAAS,aAETC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAW,SAAS,cAAc,YAAY,EAC9CC,EAAa,SAAS,cAAc,gBAAgB,EACpDC,EAAgB,SAAS,cAAc,mBAAmB,EAEhEH,EAAU,iBAAiB,SAAUI,GAAS,CAC5CA,EAAM,eAAc,EAEpB,KAAM,CAAE,MAAAC,EAAO,SAAAC,CAAQ,EAAKF,EAAM,OAAO,SACzC,QAAQ,IAAIC,CAAK,EACjB,MAAME,EAAaF,EAAM,MAAM,KAAI,EAC7BG,EAAiBF,EAAS,MAAM,KAAI,EAC1C,GAAIL,EAAS,cAAgB,SAAU,CACrC,aAAa,WAAWF,CAAM,EAC9BC,EAAU,MAAK,EACfK,EAAM,gBAAgB,UAAU,EAChCC,EAAS,gBAAgB,UAAU,EACnCL,EAAS,YAAc,QACvB,MACD,CACD,GAAIM,IAAe,IAAMC,IAAmB,GAAI,CAC9CC,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,4BACT,QAASZ,CACf,CAAK,EACD,MACD,CACD,GAAIU,IAAeT,EAAU,OAASU,IAAmBV,EAAU,SAAU,CAC3EW,EAAS,MAAM,CACb,MAAO,QACP,QAAS,iBACT,QAASZ,CACf,CAAK,EACD,MACD,CACDY,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,UACT,QAASZ,CACb,CAAG,EACD,aAAa,QACXE,EACA,KAAK,UAAU,CAAE,MAAOQ,EAAY,SAAUC,EAAgB,CAClE,EACEP,EAAS,YAAc,SACvBI,EAAM,aAAa,WAAY,EAAI,EACnCC,EAAS,aAAa,WAAY,EAAI,CACxC,CAAC,EAED,MAAMI,EAAY,aAAa,QAAQX,CAAM,EAC7C,GAAIW,EAAW,CACb,MAAMC,EAAa,KAAK,MAAMD,CAAS,EACvCR,EAAW,MAAQS,EAAW,OAAS,GACvCR,EAAc,MAAQQ,EAAW,UAAY,GAC7CV,EAAS,YAAc,SACvBC,EAAW,aAAa,WAAY,EAAI,EACxCC,EAAc,aAAa,WAAY,EAAI,CAC7C"}