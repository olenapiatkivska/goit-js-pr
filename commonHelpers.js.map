{"version":3,"file":"commonHelpers.js","sources":["../src/js/UnsplashAPI.js","../src/js/render-function.js","../src/js/gallery.js"],"sourcesContent":["import axios from 'axios';\nimport iziToast from 'izitoast';\n\nexport class UnsplashAPI {\n  #BASE_URL = 'https://api.unsplash.com';\n  #API_KEY = 'gcevo00lZKvSMKLnZZJPKYS5xNbpbsP_4i6E-BVlG58';\n  async getPopularPhotos(page) {\n    const url = `${\n      this.#BASE_URL\n    }/search/photos?page=${page}&query=popular&per_page=12&orientation=portrait&client_id=${\n      this.#API_KEY\n    }`;\n\n    try {\n      const res = await axios(url);\n      return res.data;\n    } catch (error) {\n      console.log(error);\n      iziToast.error({\n        message: 'Error',\n      });\n    }\n  }\n}\n","export function markup(imgs) {\n  return imgs\n    .map(\n      img => `   <li class=\"gallery__item\"  id=\"${img.id}\">\n            <img src=\"${img.urls.small}\" alt=\"${img.urls.alt_description}\" >\n          </li>`\n    )\n    .join('');\n}\n","import { UnsplashAPI } from './UnsplashAPI';\nimport { markup } from './render-function';\nimport Pagination from 'tui-pagination';\nimport 'tui-pagination/dist/tui-pagination.min.css';\nconst galleryList = document.querySelector('.js-gallery');\n\nconst container = document.getElementById('tui-pagination-container');\nconst pagination = new Pagination(container, {\n  totalItems: 0,\n  itemsPerPage: 12,\n  visiblePages: 5,\n  page: 1,\n});\n\nconst page = pagination.getCurrentPage();\n\nconst api = new UnsplashAPI();\napi\n  .getPopularPhotos(page)\n  .then(data => {\n    const markupImg = markup(data.results);\n    galleryList.innerHTML = markupImg;\n    pagination.reset(data.total);\n  })\n  .catch(error => console.log(error));\n\npagination.on('afterMove', event => {\n  const currentPage = event.page;\n  api\n    .getPopularPhotos(currentPage)\n    .then(data => {\n      const markupImg = markup(data.results);\n      galleryList.innerHTML = markupImg;\n    })\n    .catch(error => console.log(error));\n});\n"],"names":["UnsplashAPI","__privateAdd","_BASE_URL","_API_KEY","page","url","__privateGet","axios","error","iziToast","markup","imgs","img","galleryList","container","pagination","Pagination","api","data","markupImg","event","currentPage"],"mappings":"mXAGO,MAAMA,CAAY,CAAlB,cACLC,EAAA,KAAAC,EAAY,4BACZD,EAAA,KAAAE,EAAW,+CACX,MAAM,iBAAiBC,EAAM,CAC3B,MAAMC,EAAM,GACVC,EAAA,KAAKJ,EACX,uBAA2BE,CAAI,6DACzBE,EAAA,KAAKH,EACX,GAEI,GAAI,CAEF,OADY,MAAMI,EAAMF,CAAG,GAChB,IACZ,OAAQG,EAAO,CACd,QAAQ,IAAIA,CAAK,EACjBC,EAAS,MAAM,CACb,QAAS,OACjB,CAAO,CACF,CACF,CACH,CAnBEP,EAAA,YACAC,EAAA,YCLK,SAASO,EAAOC,EAAM,CAC3B,OAAOA,EACJ,IACCC,GAAO,qCAAqCA,EAAI,EAAE;AAAA,wBAChCA,EAAI,KAAK,KAAK,UAAUA,EAAI,KAAK,eAAe;AAAA,gBAEnE,EACA,KAAK,EAAE,CACZ,CCJA,MAAMC,EAAc,SAAS,cAAc,aAAa,EAElDC,EAAY,SAAS,eAAe,0BAA0B,EAC9DC,EAAa,IAAIC,EAAWF,EAAW,CAC3C,WAAY,EACZ,aAAc,GACd,aAAc,EACd,KAAM,CACR,CAAC,EAEKV,EAAOW,EAAW,iBAElBE,EAAM,IAAIjB,EAChBiB,EACG,iBAAiBb,CAAI,EACrB,KAAKc,GAAQ,CACZ,MAAMC,EAAYT,EAAOQ,EAAK,OAAO,EACrCL,EAAY,UAAYM,EACxBJ,EAAW,MAAMG,EAAK,KAAK,CAC/B,CAAG,EACA,MAAMV,GAAS,QAAQ,IAAIA,CAAK,CAAC,EAEpCO,EAAW,GAAG,YAAaK,GAAS,CAClC,MAAMC,EAAcD,EAAM,KAC1BH,EACG,iBAAiBI,CAAW,EAC5B,KAAKH,GAAQ,CACZ,MAAMC,EAAYT,EAAOQ,EAAK,OAAO,EACrCL,EAAY,UAAYM,CAC9B,CAAK,EACA,MAAMX,GAAS,QAAQ,IAAIA,CAAK,CAAC,CACtC,CAAC"}